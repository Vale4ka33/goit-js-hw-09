{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst textarea = form.querySelector('textarea[name=\"message\"]');\nconst email = form.querySelector('input[name=\"email\"]');\n\nconst userInfoKey = \"feedback-form-state\";\nlet currentState = {};\n\nform.addEventListener('input', onFormInput);\n\nlet storageElem = JSON.parse(localStorage.getItem(userInfoKey));\nif (storageElem) {\n    email.value = storageElem.email || '';\n    textarea.value = storageElem.message || '';\n}\n\nfunction onFormInput(event) {\n    currentState = {\n        email: email.value,\n        message: textarea.value\n    };\n    localStorage.setItem(userInfoKey, JSON.stringify(currentState));\n    storageElem = JSON.parse(localStorage.getItem(userInfoKey)); // \n}\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n    localStorage.removeItem(userInfoKey);\n    email.value = '';\n    textarea.value = '';\n    console.log(storageElem);\n});"],"names":["form","textarea","email","userInfoKey","currentState","onFormInput","storageElem","event"],"mappings":"oCAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAWD,EAAK,cAAc,0BAA0B,EACxDE,EAAQF,EAAK,cAAc,qBAAqB,EAEhDG,EAAc,sBACpB,IAAIC,EAAe,CAAA,EAEnBJ,EAAK,iBAAiB,QAASK,CAAW,EAE1C,IAAIC,EAAc,KAAK,MAAM,aAAa,QAAQH,CAAW,CAAC,EAC1DG,IACAJ,EAAM,MAAQI,EAAY,OAAS,GACnCL,EAAS,MAAQK,EAAY,SAAW,IAG5C,SAASD,EAAYE,EAAO,CACxBH,EAAe,CACX,MAAOF,EAAM,MACb,QAASD,EAAS,KAC1B,EACI,aAAa,QAAQE,EAAa,KAAK,UAAUC,CAAY,CAAC,EAC9DE,EAAc,KAAK,MAAM,aAAa,QAAQH,CAAW,CAAC,CAC9D,CAEAH,EAAK,iBAAiB,SAAWO,GAAU,CACvCA,EAAM,eAAc,EACpB,aAAa,WAAWJ,CAAW,EACnCD,EAAM,MAAQ,GACdD,EAAS,MAAQ,GACjB,QAAQ,IAAIK,CAAW,CAC3B,CAAC"}