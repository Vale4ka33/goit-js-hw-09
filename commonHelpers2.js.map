{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["const form = document.querySelector('.feedback-form');\nconst textarea = form.querySelector('textarea[name=\"message\"]');\nconst email = form.querySelector('input[name=\"email\"]');\n\nconst userInfoKey = \"feedback-form-state\";\nlet currentState = {};\n\nform.addEventListener('input', onFormInput);\n\nfunction loadForm() {\n    let storageElem = JSON.parse(localStorage.getItem(userInfoKey));\n    if (storageElem) {\n        email.value = storageElem.email || '';\n        textarea.value = storageElem.message || '';\n        currentState = storageElem;\n}\n}\n\nloadForm();\n\nfunction onFormInput(event) {\n    currentState = {\n        email: email.value ? email.value.trim() : '',\n        message: textarea.value ? textarea.value.trim() : ''\n    };\n    localStorage.setItem(userInfoKey, JSON.stringify(currentState));\n}\n\nform.addEventListener('submit', (event) => {\n    event.preventDefault();\n    if (!currentState.email.trim() || !currentState.message.trim()) {\n        return;\n    }\n    localStorage.removeItem(userInfoKey);\n    email.value = '';\n    textarea.value = '';\n    console.log(currentState);\n});"],"names":["form","textarea","email","userInfoKey","currentState","onFormInput","loadForm","storageElem","event"],"mappings":"wFAAA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAWD,EAAK,cAAc,0BAA0B,EACxDE,EAAQF,EAAK,cAAc,qBAAqB,EAEhDG,EAAc,sBACpB,IAAIC,EAAe,CAAA,EAEnBJ,EAAK,iBAAiB,QAASK,CAAW,EAE1C,SAASC,GAAW,CAChB,IAAIC,EAAc,KAAK,MAAM,aAAa,QAAQJ,CAAW,CAAC,EAC1DI,IACAL,EAAM,MAAQK,EAAY,OAAS,GACnCN,EAAS,MAAQM,EAAY,SAAW,GACxCH,EAAeG,EAEvB,CAEAD,IAEA,SAASD,EAAYG,EAAO,CACxBJ,EAAe,CACX,MAAOF,EAAM,MAAQA,EAAM,MAAM,KAAI,EAAK,GAC1C,QAASD,EAAS,MAAQA,EAAS,MAAM,KAAI,EAAK,EAC1D,EACI,aAAa,QAAQE,EAAa,KAAK,UAAUC,CAAY,CAAC,CAClE,CAEAJ,EAAK,iBAAiB,SAAWQ,GAAU,CACvCA,EAAM,eAAc,EAChB,GAACJ,EAAa,MAAM,KAAI,GAAM,CAACA,EAAa,QAAQ,UAGxD,aAAa,WAAWD,CAAW,EACnCD,EAAM,MAAQ,GACdD,EAAS,MAAQ,GACjB,QAAQ,IAAIG,CAAY,EAC5B,CAAC"}